<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Plotting my Facebook data &#8211; James Black</title>
<meta name="description" content="Plotting my Facebook data using R.">
<meta name="keywords" content="R, Facebook, Network">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Plotting my Facebook data">
<meta property="og:description" content="Plotting my Facebook data using R.">
<meta property="og:url" content="http://0.0.0.0:4000/articles/facebook-network/">
<meta property="og:site_name" content="James Black">





<link rel="canonical" href="http://0.0.0.0:4000/articles/facebook-network/">
<link href="http://0.0.0.0:4000/feed.xml" type="application/atom+xml" rel="alternate" title="James Black Feed">
<link rel="author" href="https://plus.google.com/112022213613617220776/?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://0.0.0.0:4000/assets/css/main.min.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://0.0.0.0:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://0.0.0.0:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://0.0.0.0:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://0.0.0.0:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://0.0.0.0:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://0.0.0.0:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://0.0.0.0:4000/images/apple-touch-icon-144x144-precomposed.png">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47906301-1', 'epijim.co.uk');
  ga('send', 'pageview');

</script>
</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
	        
			<li>
				
					<a href="http://0.0.0.0:4000/">About</a>
				 
			</li>
	        
			<li>
				
					<a href="http://0.0.0.0:4000/latest/">Latest</a>
				 
			</li>
	        
			<li>
				
					<a href="http://0.0.0.0:4000/tags/">Index</a>
				 
			</li>
	        
	        <li><a href="http://0.0.0.0:4000/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
	        <li class="dosearch"><i class="icon-search"></i> Search</li>
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<div class="search-wrapper">
	<div class="search-form">
		<input type="text" class="search-field" placeholder="Search...">
		<i class="icon-remove-sign icon-2x"></i>
		<ul class="search-results post-list"></ul><!-- /.search-results -->
	</div><!-- /.search-form -->
</div><!-- ./search-wrapper -->

<header class="masthead">
	<div class="wrap">
        
    		<a href="http://0.0.0.0:4000" class="site-logo" rel="home" title="James Black"><img src="http://0.0.0.0:4000/images/jimmy_logo.png" width="200" height="200" alt="James Black logo" class="animated fadeInUp"></a>
        
        <h1 class="site-title animated fadeIn"><a href="http://0.0.0.0:4000">James Black</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">Reading Epidemiology at Jesus College, University of Cambridge</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="http://0.0.0.0:4000/tags/#R" title="Pages tagged R">R</a>&nbsp;&bull;&nbsp;<a href="http://0.0.0.0:4000/tags/#Facebook" title="Pages tagged Facebook">Facebook</a>&nbsp;&bull;&nbsp;<a href="http://0.0.0.0:4000/tags/#Network" title="Pages tagged Network">Network</a></span>
        
          <h1 class="entry-title">Plotting my Facebook data</h1>
        
      </header>
      <footer class="entry-meta">
        <img src="http://0.0.0.0:4000/images/bio_photo.png" alt="James Black photo" class="author-photo">
        <span class="author vcard">By <span class="fn"><a href="http://0.0.0.0:4000/about/" title="About James Black">James Black</a></span></span>
        <span class="entry-date date published"><time datetime="2013-02-05T00:00:00+00:00"><i class="icon-calendar-empty"></i> February 05, 2013</time></span>
        <span class="entry-date date modified"><time datetime="2014-02-11"><i class="icon-pencil"></i> February 11, 2014</time></span>
        <span class="entry-comments"><i class="icon-comment-alt"></i> <a href="#disqus_thread">Comment</a></span>
        <span><a href="http://0.0.0.0:4000/articles/facebook-network/" rel="bookmark" title="Plotting my Facebook data"><i class="icon-link"></i> Permalink</a></span>
        
        <span class="social-share-facebook">
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://0.0.0.0:4000/articles/facebook-network/" title="Share on Facebook" itemprop="Facebook"><i class="icon-facebook-sign"></i> Like</a></span>
        <span class="social-share-twitter">
            <a href="https://twitter.com/intent/tweet?text=http://0.0.0.0:4000/articles/facebook-network/" title="Share on Twitter" itemprop="Twitter"><i class="icon-twitter-sign"></i> Tweet</a></span>
        <span class="social-share-googleplus">
            <a href="https://plus.google.com/share?url=http://0.0.0.0:4000/articles/facebook-network/" title="Share on Google Plus" itemprop="GooglePlus"><i class="icon-google-plus-sign"></i> +1</a></span>
            <!-- /.social-share -->
      </footer>
      <div class="entry-content">
        <figure>
	<a href="/images/network_1_mynetwork.png"><img src="/images/network_1_mynetwork.png" /></a>
	<figcaption>Connections between my facebook friends.</figcaption>
</figure>

<p>The plot above is a network of my Facebook friends that are friends with other.
 It’s quite cool how friendship circles stand out pretty clearly based on mutual friends. 
 I didn’t want to post the version with peoples photos/names, but the natural groupings in 
 the network match up pretty well with the labels I gave each group.</p>

<p>The colours of each node are based on betweenness<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> – which I think means; if you draw the
 shortest line through the network between every 2 points, the colour represents 
 how many times the lines pass through each point (white=lots, red=none). 
 So the white dots are people that are ‘gateway’ friends. 
 It’s easy to see in my family – my mum (top white dot in family group) forms a connection 
 between my family and my closer uni friends. While my Aunti V, bottom right white dot, is 
 the only person amongst my Kiwi family who is FB friends with my extended Canadian and 
 Sri Lankan family.</p>

<p>The shape of this graph has been determined by an algorithm, which I choose post hoc.
 I then manually changed the ‘attractiveness’ of each node to move the people apart a bit. 
 Choosing a different algorithm to make the graph can have pretty drastic effects on how 
 the graph looks. An example what this data looks like using four different algorithms, 
 with all the optional variables that influence the graph left at their defaults, is below.</p>

<figure>
	<a href="/images/network_2_types.png"><img src="/images/network_2_types.png" /></a>
	<figcaption>Examples of my network plotted with four different algorithms.</figcaption>
</figure>

<p>The plot below, which uses the KK algorithm, gives a better impression of how these
 groupings are just a subjective summary of where I feel the majority of the people in 
 each cluster come from.</p>

<figure>
	<a href="/images/posts/network_3_detailed.png"><img src="/images/posts/network_3_detailed.png" /></a>
	<figcaption>Examples of my network plotted with four different algorithms.</figcaption>
</figure>

<p>The relatively recently released <em>RFacebook</em> package allows you to tap into Facebook API,
 making graphs like above pretty easy to make. Most of the code here comes from this blog. 
 Setting up the access token is a little fiddly (if you don’t set up an app access only 
 lasts for 2 hours).</p>

<p>Below is a histograph of the ages of my Facebook friends (or at least their recorded ages).</p>

<figure>
	<a href="/images/posts/network_4_age.png"><img src="/images/posts/network_4_age.png" /></a>
	<figcaption>Age distribution of my Facebook friends.</figcaption>
</figure>

<p>The vast majority of my friends don’t have their relationship status up on Facebook,
 meaning you can’t pick up much from the plot below (red=a female, black= a male).</p>

<figure>
	<a href="/images/posts/network_5_relations.png"><img src="/images/posts/network_5_relations.png" /></a>
	<figcaption>Relationship status of my Facebook friends (majority do not have this entered).</figcaption>
</figure>

<p>You can also pull stats on public pages. For instance,</p>

<ul>
  <li>MCR Ents (my college social page): most popular post had 3 likes</li>
  <li>Cambridge Brewhouse (pub on my street):  most popular post had 16 likes and 2 comments</li>
  <li>Archer (TV show): most popular post was this video, and it had 73,013 likes, 2146 comments and 9315 shares.</li>
  <li>Below is a plot of the total comments, likes and shares for posts by the Jesus Bar since the page was launched. </li>
</ul>

<html>
  <head>
    
    <script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="http://code.highcharts.com/highcharts.js" type="text/javascript"></script>
    <script src="http://code.highcharts.com/highcharts-more.js" type="text/javascript"></script>
    <script src="http://code.highcharts.com/modules/exporting.js" type="text/javascript"></script>
    
    <style>
    .rChart {
      display: block;
      margin-left: auto; 
      margin-right: auto;
      width: 575px;
      height: 400px;
    }  
    </style>
    
  </head>
  <body>
    
    <div id="chart38dc94b056e" class="rChart highcharts"></div>    
    <script type="text/javascript">
    (function($){
        $(function () {
            var chart = new Highcharts.Chart({
 "dom": "chart38dc94b056e",
"width":            575,
"height":            400,
"credits": {
 "href": null,
"text": null 
},
"exporting": {
 "enabled": false 
},
"title": {
 "text": null 
},
"yAxis": [
 {
 "title": {
 "text": "Number per month" 
} 
} 
],
"series": [
 {
 "data": [
 [
 new Date(2010,3,15),
             1 
],
[
 new Date(2010,4,15),
             0 
],
[
 new Date(2010,5,15),
             0 
],
[
 new Date(2010,6,15),
             0 
],
[
 new Date(2010,7,15),
             0 
],
[
 new Date(2010,8,15),
             4 
],
[
 new Date(2010,9,15),
             2 
],
[
 new Date(2010,10,15),
            12 
],
[
 new Date(2010,11,15),
             1 
],
[
 new Date(2011,0,15),
             2 
],
[
 new Date(2011,1,15),
             4 
],
[
 new Date(2011,2,15),
             2 
],
[
 new Date(2011,3,15),
             1 
],
[
 new Date(2011,4,15),
            13 
],
[
 new Date(2011,5,15),
             2 
],
[
 new Date(2011,6,15),
             0 
],
[
 new Date(2011,7,15),
             0 
],
[
 new Date(2011,8,15),
             4 
],
[
 new Date(2011,9,15),
            50 
],
[
 new Date(2011,10,15),
            24 
],
[
 new Date(2011,11,15),
             1 
],
[
 new Date(2012,0,15),
            63 
],
[
 new Date(2012,1,15),
            12 
],
[
 new Date(2012,2,15),
             2 
],
[
 new Date(2012,3,15),
             1 
],
[
 new Date(2012,4,15),
             3 
],
[
 new Date(2012,5,15),
             2 
],
[
 new Date(2012,7,15),
             0 
],
[
 new Date(2012,8,15),
             9 
],
[
 new Date(2012,9,15),
             4 
],
[
 new Date(2012,10,15),
            14 
],
[
 new Date(2012,11,15),
             1 
],
[
 new Date(2013,0,15),
             3 
],
[
 new Date(2013,1,15),
             0 
],
[
 new Date(2013,2,15),
             0 
],
[
 new Date(2013,3,15),
             0 
],
[
 new Date(2013,4,15),
            11 
],
[
 new Date(2013,5,15),
             2 
],
[
 new Date(2013,8,15),
             0 
],
[
 new Date(2013,9,15),
             1 
],
[
 new Date(2013,10,15),
             2 
],
[
 new Date(2013,11,15),
             1 
],
[
 new Date(2014,0,15),
             0 
],
[
 new Date(2014,1,15),
             0 
] 
],
"name": "comments",
"type": "line",
"marker": {
 "radius":              3 
} 
},
{
 "data": [
 [
 new Date(2010,3,15),
             1 
],
[
 new Date(2010,4,15),
             1 
],
[
 new Date(2010,5,15),
             1 
],
[
 new Date(2010,6,15),
             0 
],
[
 new Date(2010,7,15),
             0 
],
[
 new Date(2010,8,15),
            10 
],
[
 new Date(2010,9,15),
             3 
],
[
 new Date(2010,10,15),
            23 
],
[
 new Date(2010,11,15),
             2 
],
[
 new Date(2011,0,15),
            54 
],
[
 new Date(2011,1,15),
             1 
],
[
 new Date(2011,2,15),
             3 
],
[
 new Date(2011,3,15),
             5 
],
[
 new Date(2011,4,15),
            17 
],
[
 new Date(2011,5,15),
             0 
],
[
 new Date(2011,6,15),
             0 
],
[
 new Date(2011,7,15),
             0 
],
[
 new Date(2011,8,15),
            16 
],
[
 new Date(2011,9,15),
            66 
],
[
 new Date(2011,10,15),
            47 
],
[
 new Date(2011,11,15),
             8 
],
[
 new Date(2012,0,15),
            72 
],
[
 new Date(2012,1,15),
            20 
],
[
 new Date(2012,2,15),
             1 
],
[
 new Date(2012,3,15),
             5 
],
[
 new Date(2012,4,15),
             6 
],
[
 new Date(2012,5,15),
            23 
],
[
 new Date(2012,7,15),
             0 
],
[
 new Date(2012,8,15),
            54 
],
[
 new Date(2012,9,15),
            13 
],
[
 new Date(2012,10,15),
            12 
],
[
 new Date(2012,11,15),
             4 
],
[
 new Date(2013,0,15),
            28 
],
[
 new Date(2013,1,15),
            14 
],
[
 new Date(2013,2,15),
             8 
],
[
 new Date(2013,3,15),
            19 
],
[
 new Date(2013,4,15),
            99 
],
[
 new Date(2013,5,15),
            13 
],
[
 new Date(2013,8,15),
            32 
],
[
 new Date(2013,9,15),
            62 
],
[
 new Date(2013,10,15),
            43 
],
[
 new Date(2013,11,15),
             2 
],
[
 new Date(2014,0,15),
            20 
],
[
 new Date(2014,1,15),
             6 
] 
],
"name": "likes",
"type": "line",
"marker": {
 "radius":              3 
} 
},
{
 "data": [
 [
 new Date(2010,3,15),
             0 
],
[
 new Date(2010,4,15),
             0 
],
[
 new Date(2010,5,15),
             0 
],
[
 new Date(2010,6,15),
             0 
],
[
 new Date(2010,7,15),
             0 
],
[
 new Date(2010,8,15),
             0 
],
[
 new Date(2010,9,15),
             0 
],
[
 new Date(2010,10,15),
             0 
],
[
 new Date(2010,11,15),
             0 
],
[
 new Date(2011,0,15),
             0 
],
[
 new Date(2011,1,15),
             0 
],
[
 new Date(2011,2,15),
             0 
],
[
 new Date(2011,3,15),
             0 
],
[
 new Date(2011,4,15),
             0 
],
[
 new Date(2011,5,15),
             0 
],
[
 new Date(2011,6,15),
             0 
],
[
 new Date(2011,7,15),
             0 
],
[
 new Date(2011,8,15),
             0 
],
[
 new Date(2011,9,15),
             0 
],
[
 new Date(2011,10,15),
             0 
],
[
 new Date(2011,11,15),
             0 
],
[
 new Date(2012,0,15),
             3 
],
[
 new Date(2012,1,15),
             6 
],
[
 new Date(2012,2,15),
             0 
],
[
 new Date(2012,3,15),
             2 
],
[
 new Date(2012,4,15),
             2 
],
[
 new Date(2012,5,15),
             0 
],
[
 new Date(2012,7,15),
             0 
],
[
 new Date(2012,8,15),
             5 
],
[
 new Date(2012,9,15),
             4 
],
[
 new Date(2012,10,15),
             3 
],
[
 new Date(2012,11,15),
             0 
],
[
 new Date(2013,0,15),
             2 
],
[
 new Date(2013,1,15),
             2 
],
[
 new Date(2013,2,15),
             5 
],
[
 new Date(2013,3,15),
             1 
],
[
 new Date(2013,4,15),
             4 
],
[
 new Date(2013,5,15),
             0 
],
[
 new Date(2013,8,15),
             1 
],
[
 new Date(2013,9,15),
             2 
],
[
 new Date(2013,10,15),
             1 
],
[
 new Date(2013,11,15),
             0 
],
[
 new Date(2014,0,15),
             0 
],
[
 new Date(2014,1,15),
             0 
] 
],
"name": "shares",
"type": "line",
"marker": {
 "radius":              3 
} 
} 
],
"xAxis": [
 {
 "title": {
 "text": "Months since Jesus Bar page launched" 
} 
} 
],
"subtitle": {
 "text": null 
},
"id": "chart38dc94b056e",
"chart": {
 "renderTo": "chart38dc94b056e" 
} 
});
        });
    })(jQuery);
</script>
    
    <script></script>    
  </body>
</html>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>From Wikipedia: Betweenness centrality is a measure of a node’s centrality in a network. It is equal to the number of shortest paths from all vertices to all others that pass through that node. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        <div id="disqus_thread"></div><!-- /#disqus_thread -->
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
      
        <a href="http://0.0.0.0:4000/articles/intext-distributions/" class="btn" title="In-text distributions">Next article</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 James Black. Source theme by Michael Rose. Site is compiled by Kramdown into Jekyll and hosted on github.pages.io.</span>
<div class="social-icons">
	
	
	<a href="https://plus.google.com/112022213613617220776/" title="James Black on Google+" target="_blank"><i class="icon-google-plus icon-2x"></i></a>
	
	
	
	
	
	
</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://0.0.0.0:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://0.0.0.0:4000/assets/js/scripts.min.js"></script>

<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : 'http://0.0.0.0:4000/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {
    
     var bs = {
          close: $(".icon-remove-sign"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };
    
    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });
    
      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>


<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jamesblack'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>	        

</body>
</html>

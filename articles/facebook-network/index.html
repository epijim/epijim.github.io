<!doctype html>
<!--[if lt IE 7]><html class="lt-ie9 lt-ie8 lt-ie7 no-js" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="lt-ie9 lt-ie8 no-js" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="lt-ie9 no-js" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"><!--<![endif]-->

<head>
	<meta charset="utf-8">
	<title>Plotting my Facebook data &#8211; James Black</title>
	<meta name="description" content="Plotting my Facebook data using R.">
	<meta name="keywords" content="R, Facebook, Network">
	<!-- Twitter Cards -->
	
		<meta name="twitter:card" content="summary">
			<meta name="twitter:image" content="http://epijim.uk/images/network_thumb.png">
		
	
	<meta name="twitter:title" content="Plotting my Facebook data">
	<meta name="twitter:description" content="Plotting my Facebook data using R.">
	<meta name="twitter:site" content="@">
	<meta name="twitter:creator" content="@">
	
<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Plotting my Facebook data">
<meta property="og:description" content="Plotting my Facebook data using R.">
<meta property="og:url" content="http://epijim.uk/articles/facebook-network/">
<meta property="og:image" content="http://epijim.uk/images/network_thumb.png">
<meta property="og:site_name" content="James Black">

	<!-- Webmaster Tools verifications -->
	
	

	
	<link rel="canonical" href="http://epijim.uk/articles/facebook-network/">
	<link href="http://feeds.feedburner.com/epijim" type="application/atom+xml" rel="alternate" title="James Black &#8211; Everything Feed">
	<link rel="author" href="https://plus.google.com/112022213613617220776/?rel=author">

	<!-- http://t.co/dKP3o1e -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<meta http-equiv="cleartype" content="on">

	<!-- For all browsers -->
	<link rel="stylesheet" href="http://epijim.uk/css/main.min-92de9747e44e9254411a46b258723e1d.css">

	<!-- Web fonts -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
	<script src="//use.edgefonts.net/lato:n3,i3,n4,i4,n7.js"></script>

	<!-- HTML5 Shiv and Media Query Support -->
	<!--[if lt IE 9]>
		<script src="http://epijim.uk/js/vendor/html5shiv-5a98a86b5cb48c1506f338463259ce41.js"></script>
		<script src="http://epijim.uk/js/vendor/respond-e5d7fffb3a9f891c926ee1b836d448d8.js"></script>
	<![endif]-->

	<!-- Icons -->
	<!-- 16x16 -->
	<link rel="shortcut icon" href="http://epijim.uk/favicon.ico">
	<!-- 32x32 -->
	<link rel="shortcut icon" href="http://epijim.uk/favicon.png">
	<!-- non-retina iPhone pre iOS 7 -->
	<link rel="apple-touch-icon-precomposed" href="http://epijim.uk/images/icon57.png" sizes="57x57">
	<!-- non-retina iPad pre iOS 7 -->
	<link rel="apple-touch-icon-precomposed" href="http://epijim.uk/images/icon72.png" sizes="72x72">
	<!-- non-retina iPad iOS 7 -->
	<link rel="apple-touch-icon" href="http://epijim.uk/images/icon76.png" sizes="76x76">
	<!-- retina iPhone pre iOS 7 -->
	<link rel="apple-touch-icon-precomposed" href="http://epijim.uk/images/icon114.png" sizes="114x114">
	<!-- retina iPhone iOS 7 -->
	<link rel="apple-touch-icon" href="http://epijim.uk/images/icon120.png" sizes="120x120">
	<!-- retina iPad pre iOS 7 -->
	<link rel="apple-touch-icon-precomposed" href="http://epijim.uk/images/icon144.png" sizes="144x144">
	<!-- retina iPad iOS 7 -->
	<link rel="apple-touch-icon" href="http://epijim.uk/images/icon152.png" sizes="152x152">
	
		<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47906301-1', 'epijim.co.uk');
  ga('send', 'pageview');

</script>
</head>


<body id="post">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a newer one to better enjoy this site?</a></div><![endif]-->
<div class="masthead-wrapper">
	<header id="masthead" itemscope itemtype="http://schema.org/Organization">
		<a href="http://epijim.uk" class="site-logo" rel="home" title="James Black" itemprop="url"><img src="http://epijim.uk/images/jimmy_logo.png" width="50" height="50" alt="James Black logo" itemprop="logo"></a>
		<span class="site-title" itemprop="name"><a href="http://epijim.uk">James Black</a></span>
	</header><!-- /.masthead -->
	<nav role="navigation" id="site-nav" class="nav">
		<ul>
		
			<li itemscope itemtype="http://schema.org/SiteNavigationElement"><a href="http://epijim.uk/" itemprop="url"><span itemprop="name">Home</span></a></li>
		
			<li itemscope itemtype="http://schema.org/SiteNavigationElement"><a href="http://epijim.uk/blog/" itemprop="url"><span itemprop="name">Blog</span></a></li>
		
			<li itemscope itemtype="http://schema.org/SiteNavigationElement"><a href="http://epijim.uk/plots/" itemprop="url"><span itemprop="name">Gallery</span></a></li>
		
			<li itemscope itemtype="http://schema.org/SiteNavigationElement"><a href="http://epijim.uk/my-papers/" itemprop="url"><span itemprop="name">My papers</span></a></li>
		
			<li itemscope itemtype="http://schema.org/SiteNavigationElement"><a href="http://epijim.uk/about/" itemprop="url"><span itemprop="name">About me</span></a></li>
		
		</ul>
	</nav><!-- /#site-nav -->
</div><!-- /.entry-wrapper -->

<div id="main" role="main">
		<article class="hentry" itemscope itemtype="http://schema.org/Article">
		<header class="entry-header">
		
			<h1 class="entry-title" itemprop="name">Plotting my Facebook data</h1>
		</header>
		<div class="entry-wrapper">
			<div class="entry-content" itemprop="articleBody">
				<figure>
	<a href="/images/network_1_mynetwork.png"><img src="/images/network_1_mynetwork.png" /></a>
	<figcaption>Connections between my facebook friends.</figcaption>
</figure>

<p>The plot above is a network of my Facebook friends that are friends with other.
 It’s quite cool how friendship circles stand out pretty clearly based on mutual friends. 
 I didn’t want to post the version with peoples photos/names, but the natural groupings in 
 the network match up pretty well with the labels I gave each group.</p>

<p>The colours of each node are based on betweenness<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> – which I think means; if you draw the
 shortest line through the network between every 2 points, the colour represents 
 how many times the lines pass through each point (white=lots, red=none). 
 So the white dots are people that are ‘gateway’ friends. 
 It’s easy to see in my family – my mum (top white dot in family group) forms a connection 
 between my family and my closer uni friends. While my Aunti V, bottom right white dot, is 
 the only person amongst my Kiwi family who is FB friends with my extended Canadian and 
 Sri Lankan family.</p>

<p>The shape of this graph has been determined by an algorithm, which I choose post hoc.
 I then manually changed the ‘attractiveness’ of each node to move the people apart a bit. 
 Choosing a different algorithm to make the graph can have pretty drastic effects on how 
 the graph looks. An example what this data looks like using four different algorithms, 
 with all the optional variables that influence the graph left at their defaults, is below.</p>

<figure>
	<a href="/images/network_2_types.png"><img src="/images/network_2_types.png" /></a>
	<figcaption>Examples of my network plotted with four different algorithms.</figcaption>
</figure>

<p>The plot below, which uses the KK algorithm, gives a better impression of how these
 groupings are just a subjective summary of where I feel the majority of the people in 
 each cluster come from.</p>

<figure>
	<a href="/images/network_3_detailed.png"><img src="/images/network_3_detailed.png" /></a>
	<figcaption>Examples of my network plotted with four different algorithms.</figcaption>
</figure>

<p>The relatively recently released <em>RFacebook</em> package allows you to tap into Facebook API,
 making graphs like above pretty easy to make. I’ve put the code in <a href="http://epijim.co.uk/articles/facebook-howto/">a separate post here</a>. 
 Setting up the access token is a little fiddly (if you don’t set up an app access only 
 lasts for 2 hours).</p>

<p>Below is a histograph of the ages of my Facebook friends (or at least their recorded ages).</p>

<figure>
	<a href="/images/network_4_age.png"><img src="/images/network_4_age.png" /></a>
	<figcaption>Age distribution of my Facebook friends.</figcaption>
</figure>

<p>The vast majority of my friends don’t have their relationship status up on Facebook,
 meaning you can’t pick up much from the plot below (red=a female, black= a male).</p>

<figure>
	<a href="/images/network_5_relations.png"><img src="/images/network_5_relations.png" /></a>
	<figcaption>Relationship status of my Facebook friends (majority do not have this entered).</figcaption>
</figure>

<p>You can also pull stats on public pages. For instance,</p>

<ul>
  <li>MCR Ents (my college social page): most popular post had 3 likes</li>
  <li>Cambridge Brewhouse (pub on my street):  most popular post had 16 likes and 2 comments</li>
  <li>Archer (TV show): most popular post was this video, and it had 73,013 likes, 2146 comments and 9315 shares.</li>
  <li>Below is a plot of the total comments, likes and shares for posts by the Jesus Bar since the page was launched. </li>
</ul>

<html>
  <head>
    
    <script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="http://code.highcharts.com/highcharts.js" type="text/javascript"></script>
    <script src="http://code.highcharts.com/highcharts-more.js" type="text/javascript"></script>
    <script src="http://code.highcharts.com/modules/exporting.js" type="text/javascript"></script>
    
    <style>
    .rChart {
      display: block;
      margin-left: auto; 
      margin-right: auto;
      width: 575px;
      height: 400px;
    }  
    </style>
    
  </head>
  <body>
    
    <div id="chart38dc94b056e" class="rChart highcharts"></div>    
    <script type="text/javascript">
    (function($){
        $(function () {
            var chart = new Highcharts.Chart({
 "dom": "chart38dc94b056e",
"width":            575,
"height":            400,
"credits": {
 "href": null,
"text": null 
},
"exporting": {
 "enabled": false 
},
"title": {
 "text": null 
},
"yAxis": [
 {
 "title": {
 "text": "Number per month" 
} 
} 
],
"series": [
 {
 "data": [
 [
 new Date(2010,3,15),
             1 
],
[
 new Date(2010,4,15),
             0 
],
[
 new Date(2010,5,15),
             0 
],
[
 new Date(2010,6,15),
             0 
],
[
 new Date(2010,7,15),
             0 
],
[
 new Date(2010,8,15),
             4 
],
[
 new Date(2010,9,15),
             2 
],
[
 new Date(2010,10,15),
            12 
],
[
 new Date(2010,11,15),
             1 
],
[
 new Date(2011,0,15),
             2 
],
[
 new Date(2011,1,15),
             4 
],
[
 new Date(2011,2,15),
             2 
],
[
 new Date(2011,3,15),
             1 
],
[
 new Date(2011,4,15),
            13 
],
[
 new Date(2011,5,15),
             2 
],
[
 new Date(2011,6,15),
             0 
],
[
 new Date(2011,7,15),
             0 
],
[
 new Date(2011,8,15),
             4 
],
[
 new Date(2011,9,15),
            50 
],
[
 new Date(2011,10,15),
            24 
],
[
 new Date(2011,11,15),
             1 
],
[
 new Date(2012,0,15),
            63 
],
[
 new Date(2012,1,15),
            12 
],
[
 new Date(2012,2,15),
             2 
],
[
 new Date(2012,3,15),
             1 
],
[
 new Date(2012,4,15),
             3 
],
[
 new Date(2012,5,15),
             2 
],
[
 new Date(2012,7,15),
             0 
],
[
 new Date(2012,8,15),
             9 
],
[
 new Date(2012,9,15),
             4 
],
[
 new Date(2012,10,15),
            14 
],
[
 new Date(2012,11,15),
             1 
],
[
 new Date(2013,0,15),
             3 
],
[
 new Date(2013,1,15),
             0 
],
[
 new Date(2013,2,15),
             0 
],
[
 new Date(2013,3,15),
             0 
],
[
 new Date(2013,4,15),
            11 
],
[
 new Date(2013,5,15),
             2 
],
[
 new Date(2013,8,15),
             0 
],
[
 new Date(2013,9,15),
             1 
],
[
 new Date(2013,10,15),
             2 
],
[
 new Date(2013,11,15),
             1 
],
[
 new Date(2014,0,15),
             0 
],
[
 new Date(2014,1,15),
             0 
] 
],
"name": "comments",
"type": "line",
"marker": {
 "radius":              3 
} 
},
{
 "data": [
 [
 new Date(2010,3,15),
             1 
],
[
 new Date(2010,4,15),
             1 
],
[
 new Date(2010,5,15),
             1 
],
[
 new Date(2010,6,15),
             0 
],
[
 new Date(2010,7,15),
             0 
],
[
 new Date(2010,8,15),
            10 
],
[
 new Date(2010,9,15),
             3 
],
[
 new Date(2010,10,15),
            23 
],
[
 new Date(2010,11,15),
             2 
],
[
 new Date(2011,0,15),
            54 
],
[
 new Date(2011,1,15),
             1 
],
[
 new Date(2011,2,15),
             3 
],
[
 new Date(2011,3,15),
             5 
],
[
 new Date(2011,4,15),
            17 
],
[
 new Date(2011,5,15),
             0 
],
[
 new Date(2011,6,15),
             0 
],
[
 new Date(2011,7,15),
             0 
],
[
 new Date(2011,8,15),
            16 
],
[
 new Date(2011,9,15),
            66 
],
[
 new Date(2011,10,15),
            47 
],
[
 new Date(2011,11,15),
             8 
],
[
 new Date(2012,0,15),
            72 
],
[
 new Date(2012,1,15),
            20 
],
[
 new Date(2012,2,15),
             1 
],
[
 new Date(2012,3,15),
             5 
],
[
 new Date(2012,4,15),
             6 
],
[
 new Date(2012,5,15),
            23 
],
[
 new Date(2012,7,15),
             0 
],
[
 new Date(2012,8,15),
            54 
],
[
 new Date(2012,9,15),
            13 
],
[
 new Date(2012,10,15),
            12 
],
[
 new Date(2012,11,15),
             4 
],
[
 new Date(2013,0,15),
            28 
],
[
 new Date(2013,1,15),
            14 
],
[
 new Date(2013,2,15),
             8 
],
[
 new Date(2013,3,15),
            19 
],
[
 new Date(2013,4,15),
            99 
],
[
 new Date(2013,5,15),
            13 
],
[
 new Date(2013,8,15),
            32 
],
[
 new Date(2013,9,15),
            62 
],
[
 new Date(2013,10,15),
            43 
],
[
 new Date(2013,11,15),
             2 
],
[
 new Date(2014,0,15),
            20 
],
[
 new Date(2014,1,15),
             6 
] 
],
"name": "likes",
"type": "line",
"marker": {
 "radius":              3 
} 
},
{
 "data": [
 [
 new Date(2010,3,15),
             0 
],
[
 new Date(2010,4,15),
             0 
],
[
 new Date(2010,5,15),
             0 
],
[
 new Date(2010,6,15),
             0 
],
[
 new Date(2010,7,15),
             0 
],
[
 new Date(2010,8,15),
             0 
],
[
 new Date(2010,9,15),
             0 
],
[
 new Date(2010,10,15),
             0 
],
[
 new Date(2010,11,15),
             0 
],
[
 new Date(2011,0,15),
             0 
],
[
 new Date(2011,1,15),
             0 
],
[
 new Date(2011,2,15),
             0 
],
[
 new Date(2011,3,15),
             0 
],
[
 new Date(2011,4,15),
             0 
],
[
 new Date(2011,5,15),
             0 
],
[
 new Date(2011,6,15),
             0 
],
[
 new Date(2011,7,15),
             0 
],
[
 new Date(2011,8,15),
             0 
],
[
 new Date(2011,9,15),
             0 
],
[
 new Date(2011,10,15),
             0 
],
[
 new Date(2011,11,15),
             0 
],
[
 new Date(2012,0,15),
             3 
],
[
 new Date(2012,1,15),
             6 
],
[
 new Date(2012,2,15),
             0 
],
[
 new Date(2012,3,15),
             2 
],
[
 new Date(2012,4,15),
             2 
],
[
 new Date(2012,5,15),
             0 
],
[
 new Date(2012,7,15),
             0 
],
[
 new Date(2012,8,15),
             5 
],
[
 new Date(2012,9,15),
             4 
],
[
 new Date(2012,10,15),
             3 
],
[
 new Date(2012,11,15),
             0 
],
[
 new Date(2013,0,15),
             2 
],
[
 new Date(2013,1,15),
             2 
],
[
 new Date(2013,2,15),
             5 
],
[
 new Date(2013,3,15),
             1 
],
[
 new Date(2013,4,15),
             4 
],
[
 new Date(2013,5,15),
             0 
],
[
 new Date(2013,8,15),
             1 
],
[
 new Date(2013,9,15),
             2 
],
[
 new Date(2013,10,15),
             1 
],
[
 new Date(2013,11,15),
             0 
],
[
 new Date(2014,0,15),
             0 
],
[
 new Date(2014,1,15),
             0 
] 
],
"name": "shares",
"type": "line",
"marker": {
 "radius":              3 
} 
} 
],
"xAxis": [
 {
 "title": {
 "text": "Months since Jesus Bar page launched" 
} 
} 
],
"subtitle": {
 "text": null 
},
"id": "chart38dc94b056e",
"chart": {
 "renderTo": "chart38dc94b056e" 
} 
});
        });
    })(jQuery);
</script>
    
    <script></script>    
  </body>
</html>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>From Wikipedia: Betweenness centrality is a measure of a node’s centrality in a network. It is equal to the number of shortest paths from all vertices to all others that pass through that node. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

				<div class="entry-related">
					<h2>Related Articles <a href="#" onclick="(function(btn){var z=document.createElement('script');document.subtomeBtn=btn;z.src='https://www.subtome.com/load.js';document.body.appendChild(z);})(this);_gaq.push(['_trackEvent', 'Link', 'Subscribe']);" data-subtome-resource="http://epijim.uk" data-subtome-feeds="http://feeds.feedburner.com/epijim"><i class="fa fa-rss fa-fw"></i></a></h2>
					<ul>
						
						<li><a href="http://epijim.uk/articles/facebook-howto/">How to plot FB network data</a></li>
						
						<li><a href="http://epijim.uk/articles/great-circles/">Facebook friend migrations</a></li>
						
						<li><a href="http://epijim.uk/articles/linkedin-network/">Linkedin network map</a></li>
						
						<li><a href="http://epijim.uk/articles/sheep/">New Zealand and sheep</a></li>
						
					</ul>
				</div><!-- /.entry-related -->
				<hr />
				<div class="entry-meta">
					<meta itemprop="keywords" content="R, Facebook, Network">
					<span class="entry-tags"><a href="http://epijim.uk/tag/r/" title="R" class="tag" rel="tag">R</a><a href="http://epijim.uk/tag/facebook/" title="Facebook" class="tag" rel="tag">Facebook</a><a href="http://epijim.uk/tag/network/" title="Network" class="tag" rel="tag">Network</a></span>
					<span class="author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Published by <span itemprop="name" class="fn"><a href="http://epijim.uk/about/" title="About James Black" itemprop="url">James Black</a></span> on </span>
					<span class="entry-date"><time datetime="2014-02-05T00:00:00+00:00" itemprop="datePublished" class="published">February 05, 2014</time></span> <span class="entry-date">(Updated <time datetime="2014-02-11" itemprop="dateModified" class="updated">02/11/2014</time>)</span>
				</div><!-- /.entry-meta -->
			</div><!-- /.entry-content -->
			
			<div id="disqus_thread" class="entry-content"></div><!-- /#disqus_thread -->
			<noscript><div class="upgrade">Please enable JavaScript to view comments.</div><!-- /.upgrade --></noscript>
			
		</div><!-- /.entry-wrapper -->
	</article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <p>&#169; 2004&#8211;2014 <a href="http://epijim.uk/about/">James Black</a>, this site is written in markdown, compiled to html by jekyll, and hosted on github.pages.io. <a href="http://epijim.uk/humans.txt">Theme source and credits here</a>.</p>
		<div class="social-icons">
			
			
			<a href="http://github.com/epijim" title="James Black on Github" target="_blank"><i class="fa fa-github fa-fw fa-2x"></i></a>
			
			<a href="https://plus.google.com/112022213613617220776/" title="James Black on Google+" target="_blank"><i class="fa fa-google-plus-square fa-fw fa-2x"></i></a>
			
			
		</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" data-cfasync="false"></script>
<script data-cfasync="false">window.jQuery || document.write('<script src="http://epijim.uk/js/vendor/jquery-397754ba49e9e0cf4e7c190da78dda05.js"><\/script>')</script>
<script src="http://epijim.uk/js/main.min-b1c052388578ab3b44858ccabf1f47d6.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
	var _gaq = _gaq || [];
	var pluginUrl = 
	'//www.google-analytics.com/plugins/ga/inpage_linkid.js';
	_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
	_gaq.push(['_setAccount', '']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

<!-- Modernizr -->
<script src="http://epijim.uk/js/vendor/modernizr-ab083e250330742e0b9d2a5548ea8745.js"></script>


<!-- Disqus Comments -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jamesblack'; // Required - Replace example with your forum shortname
    var disqus_title = 'Plotting my Facebook data';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


</body>
</html>
